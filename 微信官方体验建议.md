# 小程序体验评分及建议


### 1.小程序应避免出现任何的JavaScript异常

出现JavaScript异常可能导致小程序的交互无法进行下去，我们应该追求零异常，保证小程序的高鲁棒性和高可用性。

### 2.网络图片资源应开启HTTP缓存控制

开启HTTP缓存控制后，下一次加载同样的图片，会直接从缓存中读取，提高加载速度。

### 3.合理控制图片的大小

图片太大会增加内存的消耗，应根据显示区域大小合理控制图片大小。

### 4.小程序所有请求应响应正常

请求失败可能导致小程序的交互无法进行下去，应当保证所有请求都能成功。

### 5.所有请求的耗时不应太久

请求的耗时太长会让用户一直等待甚至离开，应当优化好服务器处理时间，减少回包大小，让请求加快响应。

### 6.避免短时间内发起太多的图片请求

短时间内发起太多图片请求会触发浏览器并行加载的限制，可能导致图片加载慢，用户一直处理等待。应该合理
控制数量，可考虑使用雪碧图技术或在屏幕外的图片使用懒加载 [更多学习]('#')

### 7.避免短时间内发起太多的请求

短时间内发起太多请求会触发小程序并行请求数量的限制，同时太多的请求也可能导致加载慢等问题，
应该合理控制请求数量，甚至做到请求的合并。

### 8.避免setData的数据过大

由于小程序运行逻辑线程与渲染线程之上，setData的调用会把数据从逻辑层传到渲染层，数据太大会增加通信时间。

### 9.避免setData的调用过于频繁

setData接口的调用涉及逻辑层与渲染层间的线程通信，通信过于频繁可能会导致处理队列阻塞，
界面渲染不及时而导致卡顿，应避免无用的频繁调用。

### 10.避免将未绑定在WXML的变量传入setData

setData操作会引起框架处理一些渲染界面相关的的工作，一个未绑定的变量意味着与界面渲染无关，传入setData
会造成不必要的渲染消耗。

### 11.合理设置可点击元素的相应区域大小

我们应该合理地设置好可点击元素的响应区域大小，如果过小会导致用户很难点中，体验很差。

### 12.避免渲染界面的耗时过长的情况

渲染界面的耗时过长会让用户觉得卡顿，体验较差，出现这一情况时，需要校验是否同时渲染的区域太大。

### 13.避免执行脚本的耗时过长的情况

请求的耗时太长会让用户一直等待甚至离开，应当优化好服务器处理时间，减少回包大小，让请求加快响应。

### 14.避免定时器未跟随页面回收

定时器是全局的，并不是跟页面绑定的，当页面因后退被销毁时，定时器应手动回收。

### 15.对网络请求做必要的缓存以避免多余的请求

发起网络请求总会让用户等待，可能造成不好的体验，应尽量避免多余的请求，比如对同样的请求进行缓存。

### 16.wxss覆盖率较高，较少或没有引入未使用的样式，

我们应该按需引入wxss资源，如果小程序中存在大量未使用样式，会增加小程序包的大小，从而在一定程度上影响加载速度。

### 17.文字颜色与背景色搭配较好，适宜的颜色对比度更方便用户阅读

文字颜色与背景色需要搭配得当，适宜的颜色对比度可以让用户更好地阅读，提升小程序的用户体验。